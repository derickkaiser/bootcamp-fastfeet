{"ast":null,"code":"var _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = Actions;\n\nvar _regenerator = _interopRequireDefault(require(\"@babel/runtime/regenerator\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _reactNative = require(\"react-native\");\n\nvar _reactNativeGestureHandler = require(\"react-native-gesture-handler\");\n\nvar _MaterialIcons = _interopRequireDefault(require(\"react-native-vector-icons/MaterialIcons\"));\n\nvar _navigation = _interopRequireDefault(require(\"../../../services/navigation\"));\n\nvar _api = _interopRequireDefault(require(\"../../../services/api\"));\n\nvar _styles = require(\"./styles\");\n\nvar _jsxFileName = \"/Users/derickkaiser/Documents/Bootcamp2019/bootcamp-fastfeet/mobile/src/pages/DeliveryDetails/Actions/index.js\";\n\nfunction Actions(_ref) {\n  var delivery = _ref.delivery;\n\n  function alertMsg(id) {\n    _reactNative.Alert.alert(\"Confirmação de ação\", \"Deseja confirmar a retirada da entrega?\", [{\n      text: \"Sim\",\n      onPress: function onPress() {\n        return _regenerator.default.async(function onPress$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.prev = 0;\n                _context.next = 3;\n                return _regenerator.default.awrap(_api.default.put(\"/delivery/\" + id + \"/withdraw_delivery\"));\n\n              case 3:\n                _context.next = 9;\n                break;\n\n              case 5:\n                _context.prev = 5;\n                _context.t0 = _context[\"catch\"](0);\n                console.tron.log(_context.t0);\n\n                _reactNative.Alert.alert('Já foram retiradas mais de 5 entregas nas últimas 24 horas.');\n\n              case 9:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, null, null, [[0, 5]]);\n      }\n    }, {\n      text: \"Não\",\n      onPress: function onPress() {},\n      style: \"cancel\"\n    }], {\n      cancelable: false\n    });\n  }\n\n  return _react.default.createElement(_styles.Container, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40\n    }\n  }, delivery.status === 'PENDENTE' && _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity, {\n    onPress: function onPress() {\n      return alertMsg(delivery.id);\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41\n    }\n  }, _react.default.createElement(_styles.InformProblem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43\n    }\n  }, _react.default.createElement(_MaterialIcons.default, {\n    name: \"present-to-all\",\n    size: 24,\n    color: \"#E7BA40\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44\n    }\n  }), _react.default.createElement(_styles.LabelText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45\n    }\n  }, \"Retirar Entrega\"))), (delivery.status === 'RETIRADO' || delivery.status === 'ENTREGUE') && _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity, {\n    onPress: function onPress() {\n      return _navigation.default.navigate('ViewProblem', {\n        delivery: delivery\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49\n    }\n  }, _react.default.createElement(_styles.ViewProblems, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    }\n  }, _react.default.createElement(_MaterialIcons.default, {\n    name: \"info-outline\",\n    size: 24,\n    color: \"#E7BA40\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    }\n  }), _react.default.createElement(_styles.LabelText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    }\n  }, \"Visualizar problema\"))), delivery.status === 'RETIRADO' && _react.default.createElement(_react.default.Fragment, null, _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity, {\n    onPress: function onPress() {\n      return _navigation.default.navigate('InformProblem', {\n        deliveryId: delivery.id\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58\n    }\n  }, _react.default.createElement(_styles.InformProblem, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    }\n  }, _react.default.createElement(_MaterialIcons.default, {\n    name: \"highlight-off\",\n    size: 24,\n    color: \"#E74040\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65\n    }\n  }), _react.default.createElement(_styles.LabelText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66\n    }\n  }, \"Informar problema\"))), _react.default.createElement(_reactNativeGestureHandler.TouchableOpacity, {\n    onPress: function onPress() {\n      return _navigation.default.navigate('ConfirmDelivery', {\n        delivery: delivery\n      });\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    }\n  }, _react.default.createElement(_styles.ConfirmDelivery, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    }\n  }, _react.default.createElement(_MaterialIcons.default, {\n    name: \"check-circle\",\n    size: 24,\n    color: \"#7D49E7\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    }\n  }), _react.default.createElement(_styles.LabelText, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    }\n  }, \"Confirmar Entrega\")))));\n}","map":{"version":3,"sources":["/Users/derickkaiser/Documents/Bootcamp2019/bootcamp-fastfeet/mobile/src/pages/DeliveryDetails/Actions/index.js"],"names":["Actions","delivery","alertMsg","id","Alert","alert","text","onPress","api","put","console","tron","log","style","cancelable","status","NavigationService","navigate","deliveryId"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {Alert} from 'react-native';\n\nimport {TouchableOpacity} from 'react-native-gesture-handler';\nimport Icon from 'react-native-vector-icons/MaterialIcons';\n\nimport NavigationService from '../../../services/navigation';\nimport api from '../../../services/api';\n\nimport { Container, InformProblem, ViewProblems, ConfirmDelivery, LabelText } from './styles';\n\nexport default function Actions({delivery}) {\n\n  function alertMsg(id){\n    Alert.alert(\n      \"Confirmação de ação\",\n      \"Deseja confirmar a retirada da entrega?\",\n      [\n        { text: \"Sim\", onPress: \n          async () => {\n            try{\n              await api.put(`/delivery/${id}/withdraw_delivery`);\n            }catch(err){\n              console.tron.log(err);\n              Alert.alert('Já foram retiradas mais de 5 entregas nas últimas 24 horas.');\n            }\n          } \n        },\n        {\n          text: \"Não\",\n          onPress: () => {},\n          style: \"cancel\"\n        },\n      ],\n      { cancelable: false }\n    );\n  }\n\n  return (\n    <Container>\n      {delivery.status === 'PENDENTE' && (<TouchableOpacity\n          onPress={() => alertMsg(delivery.id)}>\n          <InformProblem>\n            <Icon name=\"present-to-all\" size={24} color=\"#E7BA40\" />\n            <LabelText>Retirar Entrega</LabelText>\n          </InformProblem>\n        </TouchableOpacity>)}\n        {(delivery.status === 'RETIRADO' || delivery.status === 'ENTREGUE') && \n        (<TouchableOpacity\n          onPress={() => NavigationService.navigate('ViewProblem', {delivery})}>\n          <ViewProblems>\n            <Icon name=\"info-outline\" size={24} color=\"#E7BA40\" />\n            <LabelText>Visualizar problema</LabelText>\n          </ViewProblems>\n        </TouchableOpacity>)}\n        {delivery.status === 'RETIRADO' && \n        (<>\n          <TouchableOpacity\n          onPress={() =>\n            NavigationService.navigate('InformProblem', {\n              deliveryId: delivery.id,\n            })\n          }>\n          <InformProblem>\n            <Icon name=\"highlight-off\" size={24} color=\"#E74040\" />\n            <LabelText>Informar problema</LabelText>\n          </InformProblem>\n          </TouchableOpacity>\n          <TouchableOpacity\n            onPress={() =>\n              NavigationService.navigate('ConfirmDelivery', {delivery})\n            }>\n            <ConfirmDelivery>\n              <Icon name=\"check-circle\" size={24} color=\"#7D49E7\" />\n              <LabelText>Confirmar Entrega</LabelText>\n            </ConfirmDelivery>\n          </TouchableOpacity>\n        </>)}\n      </Container>\n  );\n}\n"]},"metadata":{},"sourceType":"script"}